<script type="text/worker">
//calculate HP and Stamina Points
on("change:endurance", function() {
   getAttrs(["endurance"], function(values) {
      setAttrs({
          HP_Max: Math.ceil(values.endurance / 2)

      });
      setAttrs({
          Stam_P_Max: Math.floor(values.endurance / 10)
      });
   });
});

//calculate MP
on("change:intelligence", function() {
   getAttrs(["intelligence"], function(values) {
      setAttrs({
          MP_Max: values.intelligence
      });
   });
});

//calculate Wound Threshold
on("change:endurance change:strength change:willpower", function() {
   getAttrs(["endurance", "strength", "willpower"], function(values) {
      setAttrs({
          Wound_Thresh: Math.floor(values.endurance / 10) + Math.floor(values.strength / 10) + Math.floor(values.willpower / 10)
      });
   });
});

//calculate Speed
on("change:strength change:agility", function() {
   getAttrs(["agility", "strength"], function(values) {
      setAttrs({
          Speed: Math.floor(values.strength / 10) + (2 * (Math.floor(values.agility / 10)))
      });
   });
});

//calculate Carry Rating
on("change:strength change:endurance", function() {
   getAttrs(["strength", "endurance"], function(values) {
      setAttrs({
          Carry_Rating: (6 * (Math.floor(values.strength / 10))) + (3 * (Math.floor(values.endurance / 10)))
      });
   });
});

//calculate Initiative Rating and Action Points
on("change:agility change:intelligence change:perception", function() {
   getAttrs(["agility", "intelligence", "perception"], function(values) {
      setAttrs({
          Init_Rating: Math.floor(values.agility / 10) + Math.floor(values.intelligence / 10) + Math.floor(values.perception / 10)
      });
      setAttrs({
          Action_P_Max: Math.floor(values.agility / 10) + Math.floor(values.intelligence / 10) + Math.floor(values.perception / 10)
      });
   });
});

//calculate Luck Points
on("change:luck", function() {
   getAttrs(["luck"], function(values) {
      setAttrs({
          Luck_P_Max: Math.floor(values.luck / 10)
      });
   });
});

</script>
<div class="sheet-characteristics">

    <div class="sheet-wrapper">
        <div class="sheet-h1"><h1> UESRPG Third Edition Character Sheet</h1></div>
        <div>
            <input type="radio" name="attr_tab" class="sheet-tab sheet-tab1" value="1" checked="checked"><span
                title="General">General</span>
            <input type="radio" name="attr_tab" class="sheet-tab sheet-tab2" value="2"><span
                title="Equipment">Equipment</span>
            <input type="radio" name="attr_tab" class="sheet-tab sheet-tab3" value="3"><span
                title="Abilities">Abilities</span>
            <input type="radio" name="attr_tab" class="sheet-tab sheet-tab4" value="4"><span title="Magic">Magic</span>
            <div class="sheet-tab-content sheet-tab1">
                <div class="sheet-2colrow">
                    <!-- left outer col -->
                    <div class="sheet-col">
                        <div class="sheet-row">
                            <div class="sheet-item"><label>Name</label></div>
                            <div class="sheet-item"><input class="sheet-item sheet-Name" name="attr_Name" type="text">
                            </div>
                        </div>
                        <!-- inner cols for char stats -->
                        <div class="sheet-2colrow">
                            <!-- Left Column -->
                            <div class="sheet-col">
                                <div class="sheet-row">
                                    <div class="sheet-item"><label>Experience</label></div>
                                    <div class="sheet-item"><input class="sheet-item sheet-XP" name="attr_XP"
                                                                   type="text"></div>
                                </div>
                                <div class="sheet-row">
                                    <div class="sheet-item"><label>Elite Advancement</label></div>
                                    <div class="sheet-item">
                                        <select name="attr_EliteAdvancement">
                                            <option value="None">None</option>
                                            <option value="Stormvoice">Stormvoice</option>
                                            <option value="Sword-singer">Sword-singer</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Right Column -->
                            <div class="sheet-col">
                                <div class="sheet-row">
                                    <div class="sheet-item"><label>Race</label></div>
                                    <div class="sheet-item">
                                        <select name="attr_Race">
                                            <option value="Altmer">Altmer</option>
                                            <option value="Argonian">Argonian</option>
                                            <option value="Bosmer">Bosmer</option>
                                            <option value="Breton">Breton</option>
                                            <option value="Colovian Imperial">Colovian Imperial</option>
                                            <option value="Dunmer">Dunmer</option>
                                            <option value="Khajiit">Khajiit</option>
                                            <option value="Nibenese Imperial">Nibenese Imperial</option>
                                            <option value="Nord">Nord</option>
                                            <option value="Orsimer">Orsimer</option>
                                            <option value="Redguard">Redguard</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="sheet-row">
                                    <div class="sheet-item"><label>Birthsign</label></div>
                                    <div class="sheet-item">
                                        <select name="attr_Birthsign">
                                            <option value="The Warrior">The Warrior</option>
                                            <option value="Star-Cursed Warrior">Star-Cursed Warrior</option>
                                            <option value="The Lady">The Lady</option>
                                            <option value="Star-Cursed Lady">Star-Cursed Lady</option>
                                            <option value="The Steed">The Steed</option>
                                            <option value="Star-Cursed Speed">Star-Cursed Lady</option>
                                            <option value="The Lord">The Lord</option>
                                            <option value="Star-Cursed Lord">Star-Cursed Lord</option>
                                            <option value="The Mage">The Mage</option>
                                            <option value="Star-Cursed Mage">Star-Cursed Mage</option>
                                            <option value="The Apprentice">The Apprentice</option>
                                            <option value="Star-Cursed Apprentice">Star-Cursed Apprentice</option>
                                            <option value="The Atronach">The Atronach</option>
                                            <option value="Star-Cursed Atronach">Star-Cursed Atronach</option>
                                            <option value="The Ritual">The Ritual</option>
                                            <option value="Star-Cursed Ritual">Star-Cursed Ritual</option>
                                            <option value="The Thief">The Thief</option>
                                            <option value="Star-Cursed Thief">Star-Cursed Thief</option>
                                            <option value="The Lover">The Lover</option>
                                            <option value="Star-Cursed Lover">Star-Cursed Lover</option>
                                            <option value="The Shadow">The Shadow</option>
                                            <option value="Star-Cursed Shadow">Star-Cursed Shadow</option>
                                            <option value="The Tower">The Tower</option>
                                            <option value="Star-Cursed Tower">Star-Cursed Tower</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div> <!-- inner cols for char stats -->

                        <!-- grid for primary stats -->
                        <div class="sheet-item">
                            <h2>Characteristics</h2>
                            <div class="sheet-item sheet-label-grid">
                                <div class="sheet-item sheet-label-str">Str</div>
                                <div class="sheet-item sheet-label-end">End</div>
                                <div class="sheet-item sheet-label-ag">Ag</div>
                                <div class="sheet-item sheet-label-int">Int</div>
                                <div class="sheet-item sheet-label-wp">Wp</div>
                                <div class="sheet-item sheet-label-prc">Prc</div>
                                <div class="sheet-item sheet-label-prs">Prs</div>
                                <div class="sheet-item sheet-label-lck">Lck</div>
                            </div>
                            <div class="sheet-item sheet-stats-grid">
                                <input class="sheet-item sheet-stats-str" name="attr_strength" type="text">
                                <input class="sheet-item sheet-stats-end" name="attr_endurance" type="text">
                                <input class="sheet-item sheet-stats-ag" name="attr_agility" type="text">
                                <input class="sheet-item sheet-stats-int" name="attr_intelligence" type="text">
                                <input class="sheet-item sheet-stats-wp" name="attr_willpower" type="text">
                                <input class="sheet-item sheet-stats-prc" name="attr_perception" type="text">
                                <input class="sheet-item sheet-stats-prs" name="attr_precision" type="text">
                                <input class="sheet-item sheet-stats-lck" name="attr_luck" type="text">
                            </div>
                            <div class="sheet-item sheet-favored-grid">
                                <input class="sheet-item sheet-favored-str" name="attr_strength_favored" type="text">
                                <input class="sheet-item sheet-favored-end" name="attr_endurance_favored" type="text">
                                <input class="sheet-item sheet-favored-ag" name="attr_agility_favored" type="text">
                                <input class="sheet-item sheet-favored-int" name="attr_intelligence_favored"
                                       type="text">
                                <input class="sheet-item sheet-favored-wp" name="attr_willpower_favored" type="text">
                                <input class="sheet-item sheet-favored-prc" name="attr_perception_favored" type="text">
                                <input class="sheet-item sheet-favored-prs" name="attr_precision_favored" type="text">
                                <div class="sheet-item sheet-label-favored">Favored</div>
                            </div>
                        </div> <!-- grid for primary stats -->
                        <!-- attributes -->
                        <div class="sheet-item">
                            <h2>Attributes</h2>
                            <div class="sheet-2colrow sheet-attributes">
                                <div class="sheet-col">
                                    <div class="sheet-row">
                                        Health P/Max<input class="sheet-item sheet-HP-Max" name="attr_HP_Max"
                                                           type="text"><br>
                                        Wound Thresh.<input class="sheet-item sheet-Wound-Thresh"
                                                            name="attr_Wound_Thresh" type="text"><br>
                                        Speed<input class="sheet-item sheet-Speed" name="attr_Speed" type="text"><br>
                                        Init. Rating<input class="sheet-item sheet-Init-Rating" name="attr_Init_Rating"
                                                           type="text"><br>
                                        Carry Rating<input class="sheet-item sheet-Carry-Rating"
                                                           name="attr_Carry_Rating" type="text">
                                    </div>

                                </div>
                                <div class="sheet-col">
                                    <div class="sheet-row">
                                        Magicka P/Max<input class="sheet-item sheet-MP-Max"
                                                            name="attr_MP_Max" type="text"><br>
                                        Stam P/Max<input class="sheet-item sheet-Stam-P-Max" name="attr_Stam_P_Max"
                                                         type="text"><br>
                                        Luck P/Max<input class="sheet-item sheet-Luck-P-Max" name="attr_Luck_P_Max"
                                                         type="text"><br>
                                        Action P/Max<input class="sheet-item sheet-Action-P-Max"
                                                           name="attr_Action_P_Max" type="text"><br>
                                        Total Lb(s)<input class="sheet-item sheet-Total-Lb" name="attr_Total_Lb"
                                                          type="text">
                                    </div>
                                </div>
                            </div>
                        </div><!-- attributes -->

                        <!-- armor and wounds -->
                        <div class="sheet-item">
                            <h2>Armor & Wounds</h2>
                            <div class="sheet-3colrow sheet-AandW">
                                <div class="sheet-col sheet-left-AandW">
                                    <h3>Head(0)</h3><br>
                                    AR<input class="sheet-item sheet-Head-AR" name="attr_Head_AR" type="text"><br>
                                    Lb(s)<input class="sheet-item sheet-Head-Lb" name="attr_Head_Lb" type="text"><br>
                                    Type<input class="sheet-item sheet-Head-Type" name="attr_Head_Type" type="text"><br>
                                    <h3>Left Arm(8)</h3><br>
                                    AR<input class="sheet-item sheet-Left-Arm-AR" name="attr_Left_Arm_AR"
                                             type="text"><br>
                                    Lb(s)<input class="sheet-item sheet-Left-Arm-Lb" name="attr_Left_Arm_Lb"
                                                type="text"><br>
                                    Type<input class="sheet-item sheet-Left-Arm-Type" name="attr_Left_Arm_Type"
                                               type="text"><br>
                                    <h3>Left Leg(6)</h3><br>
                                    AR<input class="sheet-item sheet-Left-Leg-AR" name="attr_Left_Leg_AR"
                                             type="text"><br>
                                    Lb(s)<input class="sheet-item sheet-Left-Leg-Lb" name="attr_Left_Leg_Lb"
                                                type="text"><br>
                                    Type<input class="sheet-item sheet-Left-Leg-Type" name="attr_Left_Leg_Type"
                                               type="text"><br>
                                </div>
                                <div class="sheet-col sheet-center-AandW">
                                    <img src="https://i.imgur.com/qGUrcQT.png" alt="power"/>
                                </div>
                                <div class="sheet-col sheet-right-AandW">
                                    <h3>Body(1-5)</h3><br>
                                    <input class="sheet-item sheet-Body-AR" name="attr_Body_AR" type="text">AR<br>
                                    <input class="sheet-item sheet-Body-Lb" name="attr_Body_Lb" type="text">Lb(s)<br>
                                    <input class="sheet-item sheet-Body-Type" name="attr_Body_Type" type="text">Type<br>
                                    <h3>Right Arm(9)</h3><br>
                                    <input class="sheet-item sheet-Right-Arm-AR" name="attr_Right_Arm_AR" type="text">AR<br>
                                    <input class="sheet-item sheet-Right-Arm-Lb" name="attr_Right_Arm_Lb"
                                           type="text">Lb(s)<br>
                                    <input class="sheet-item sheet-Right-Arm-Type" name="attr_Right_Arm_Type"
                                           type="text">Type<br>
                                    <h3>Right Leg(7)</h3><br>
                                    <input class="sheet-item sheet-Right-Leg-AR" name="attr_Right_Leg_AR" type="text">AR<br>
                                    <input class="sheet-item sheet-Right-Leg-Lb" name="attr_Right_Leg_Lb"
                                           type="text">Lb(s)<br>
                                    <input class="sheet-item sheet-Right-Leg-Type" name="attr_Right_Leg_Type"
                                           type="text">Type<br>
                                </div>
                            </div>
                        </div><!-- armor and wounds -->
                    </div> <!-- left outer col -->
                    <!-- right outer col -->
                    <div class="sheet-col sheet-right-outer">
                        <h2>Skills & Specializations</h2>
                        <table>
                            <tr>
                                <th><h3>Skill/Spec.</h3></th>
                                <th><h3>Rank</h3></th>
                                <th><h3>Bonus</h3></th>
                                <th><h3>Base TN</h3></th>
                            </tr>
                            <tr>
                                <td>Acrobatics</td>
                                <td><input class="sheet-item" name="attr_Acrobatics_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Acrobatics_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Acrobatics_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Alchemy</td>
                                <td><input class="sheet-item" name="attr_Alchemy_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Alchemy_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Alchemy_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Alteration</td>
                                <td><input class="sheet-item" name="attr_Alteration_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Alteration_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Alteration_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Athletics</td>
                                <td><input class="sheet-item" name="attr_Athletics_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Athletics_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Athletics_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Command</td>
                                <td><input class="sheet-item" name="attr_Command_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Command_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Command_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Commerce</td>
                                <td><input class="sheet-item" name="attr_Commerce_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Commerce_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Commerce_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Conjuration</td>
                                <td><input class="sheet-item" name="attr_Conjuration_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Conjuration_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Conjuration_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Deceive</td>
                                <td><input class="sheet-item" name="attr_Decieve_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Decieve_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Decieve_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Destruction</td>
                                <td><input class="sheet-item" name="attr_Destruction_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Destruction_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Destruction_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Enchant</td>
                                <td><input class="sheet-item" name="attr_Enchant_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Enchant_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Enchant_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Evade</td>
                                <td><input class="sheet-item" name="attr_Evade_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Evade_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Evade_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Illusion</td>
                                <td><input class="sheet-item" name="attr_Illusion_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Illusion_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Illusion_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Investigate</td>
                                <td><input class="sheet-item" name="attr_Investigate_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Investigate_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Investigate_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Logic</td>
                                <td><input class="sheet-item" name="attr_Logic_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Logic_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Logic_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Lore</td>
                                <td><input class="sheet-item" name="attr_Lore_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Lore_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Lore_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Mysticism</td>
                                <td><input class="sheet-item" name="attr_Mysticism_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Mysticism_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Mysticism_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Navigate</td>
                                <td><input class="sheet-item" name="attr_Navigate_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Navigate_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Navigate_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Necromancy</td>
                                <td><input class="sheet-item" name="attr_Necromancy_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Necromancy_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Necromancy_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Observe</td>
                                <td><input class="sheet-item" name="attr_Observe_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Observe_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Observe_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Persuade</td>
                                <td><input class="sheet-item" name="attr_Persuade_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Persuade_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Persuade_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Profession</td>
                                <td><input class="sheet-item" name="attr_Profession_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Profession_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Profession_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Restoration</td>
                                <td><input class="sheet-item" name="attr_Restoration_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Restoration_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Restoration_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Ride</td>
                                <td><input class="sheet-item" name="attr_Ride_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Ride_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Ride_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Shehai Shen She Ru</td>
                                <td><input class="sheet-item" name="attr_Shehai_Shen_She_Ru_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Shehai_Shen_She_Ru_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Shehai_Shen_She_Ru_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Stealth</td>
                                <td><input class="sheet-item" name="attr_Stealth_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Stealth_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Stealth_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Subterfuge</td>
                                <td><input class="sheet-item" name="attr_Subterfuge_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Subterfuge_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Subterfuge_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Survival</td>
                                <td><input class="sheet-item" name="attr_Survival_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Survival_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Survival_Base_TN" type="text"></td>
                            </tr>
                            <tr>
                                <td>Th'uum</td>
                                <td><input class="sheet-item" name="attr_Thuum_Rank" type="text"></td>
                                <td><input class="sheet-item" name="attr_Thuum_Bonus" type="text"></td>
                                <td><input class="sheet-item" name="attr_Thuum_Base_TN" type="text"></td>
                            </tr>
                        </table>
                    </div> <!-- right outer col -->
                </div> <!-- outer 2colrow -->
            </div> <!-- tab 1 -->
            <div class="sheet-tab-content sheet-tab2">
                consectetur adipiscing elithdfgxdghfhgdfxhxdg
            </div><!-- tab 2 -->
            <div class="sheet-tab-content sheet-tab3">
                consectetdsagdfgsgdfsgshftdghjdgtyfhdtgjdtyjtdy xhxdg
            </div><!-- tab 3 -->
            <div class="sheet-tab-content sheet-tab4">
                consectetur adipiscssdgdfsghshgerthing elisthdsrthrtshrthtrdhrdthdrthrhdrtthdfgxdghfhgdfxhxdg
            </div><!-- tab 4 -->
        </div>

    </div> <!-- wrapper -->
</div> <!-- characteristics -->